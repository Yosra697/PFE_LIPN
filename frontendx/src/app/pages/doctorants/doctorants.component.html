<div class="page-container">

  <h2 class="main-title">SynthÃ¨se des propositions de doctorant</h2>

  <div class="table-section">

    <table>

      <thead>
      <tr>
        <th>Encadrant</th>
        <th>Doctorant</th>
        <th>Equipe</th>
        <th>DÃ©but</th>
        <th>Validation Chef d'Ã©quipe</th>
        <th>Validation Direction</th>
        <th>Etat</th>
      </tr>
      </thead>

      <tbody>

      <tr *ngFor="let d of doctorants">

        <!-- Encadrant -->
        <td>
          {{ d.encadrant?.nom || 'â€”' }}
        </td>

        <!-- Doctorant -->
        <td>
          <strong>{{ d.nom }} {{ d.prenom }}</strong>

          <div *ngIf="d.dossierPath">
            <a [href]="'http://localhost:8080/files/' + d.dossierPath"
               target="_blank"
               class="file-link">
              ðŸ“‚ Dossier
            </a>
          </div>
        </td>

        <!-- Equipe -->
        <td>
          {{ d.equipe || d.encadrant?.equipe || 'â€”' }}
        </td>

        <!-- DÃ©but -->
        <td>
          {{ d.dateDebut ? (d.dateDebut | date:'dd/MM/yyyy') : 'â€”' }}
        </td>

        <td>
            <span [ngClass]="getValidationClass(d.validationChef)">
              {{ formatValidation(d.validationChef) }}
            </span>
        </td>


        <td>
            <span [ngClass]="getValidationClass(d.validationDirection)">
              {{ formatValidation(d.validationDirection) }}
            </span>
        </td>
        <!-- Etat -->
        <td>
          <span [ngClass]="getStatusClass(d.statut)">
              {{ d.statut || 'â€”' }}
            </span>
        </td>

      </tr>

      <tr *ngIf="doctorants.length === 0">
        <td colspan="7" class="empty">
          Aucun doctorant enregistrÃ©
        </td>
      </tr>

      </tbody>

    </table>

  </div>

</div>
